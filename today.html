
<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width" />
<base target="_blank">
<title>The Perfect Daily Reading List for today</title>
<style>
body {
  background: #ffffeb;
  color: #073642;
}
a {
  color: #268bd2;
}
</style>
<script>
window.onload = function() {
  const today = new Date();
  updateDocument(today);
};
function updateDocument(date) {
  window.console.log("typeof:" + typeof date);
  if (date === null) {
    const dateVal = document.getElementById("newdate").value;
    date = new Date(dateVal);
    window.console.log("typeof:" + typeof date);
  }
  if (date === null) {
    date = new Date();
  }
  console.log(date);
  updateTitle(date);
  updateLinks(date);
}
function updateLinks(date) {
  const links = document.querySelectorAll("li a.d");
  const fmtDay = formatDate(date);
  console.log("Formated date: " + fmtDay);
  for(var i = 0; i < links.length; i++) {
    console.log(links[i]);
    links[i].href = links[i].getAttribute("data") + "-" + fmtDay + ".html";
  }
}
function updateTitle(date) {
  const fmtDate = formatDate(date);
  document.title = "The Perfect Daily Reading List for " + fmtDate;
  document.getElementById("t").innerText = "The Perfect Reading List for " + fmtDate;
}
function formatDate(date) {
  let fmtDate = date.getFullYear() + ".";
  if (date.getMonth() < 9) {
    fmtDate += "0";
  }
  fmtDate += "" + (1 + date.getMonth()) + ".";
  if (date.getDate() < 10) {
    fmtDate += "0"
  }
  fmtDate += "" + date.getDate();
  return fmtDate;
}
</script>
</head>
<body>
  <h1 id="t">The Perfect Daily Reading List for today</h1>
  <h2>On this day</h2>
  <ul>
    <li><a class="d" data="ev" href="ev-2023.03.23.html" title="On this day in Evernote">Evernote</a></li>
    <li><a class="d" data="ds" href="ds-2023.03.24.html" title="Day One Shorts">DayOne short</a> or <a class="d" data="file:///Users/alex/Dropbox/Public/DailyRL/do" href="do-2023.03.23.html" title="Day One Extended">extended</a></li>
    <li><a class="d" data="xkcd" href="xkcd-2023.03.25.html" title="XKCD on this day">XKCD</a></li>
    <li><a href="shortcuts://run-shortcut?name=On%20This%20Day&input=&text=" title="Photos">Photos</a></li>
  </ul>
  <h2>Present</h2>
  <ul>
    <li><a class="d" data="rl" href="rl-2023.03.23.html">Reading list</a></li>
  </ul>
  <h2>New daily</h2>
  <ul>
    <li><a class="d" data="hn" href="hn-2023.03.23.html">HN Top Stories</a></li>
    <li><a href="https://hackyournews.com">AI summaries of the top HN stories</a></li>
    <li>Pocket: <a href="https://getpocket.com/explore">today</a> | <a href="https://getpocket.com/explore/science">science</a> | <a href="https://getpocket.com/explore/self-improvement">self</a> | <a href="https://getpocket.com/explore/technology">technology</a> | <a href="https://getpocket.com/explore/travel">travel</a></li>
  </ul>
  <h2>Series</h2>
  <ul>
    <li><a href="https://www.jftna.org/jft/">Just for today</a></li>
    <li><a href="https://www.nytimes.com/column/sunday-routine">Sunday routine (weekly)</a></li>  
    <li><a href="https://www.thecut.com/tags/how-i-get-it-done/">How I Get It Done (weekly)</a></li>
  </ul>
  <div style="margin-top: 3em">
    <label for="changedate">Change day</label>
    <input type="date" id="newdate">
    <button onclick="updateDocument(null);alert('Links updated');">Update</button>
  </div>
</body>
</html>
